<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/style-manutencao.css" />
    <link rel="stylesheet" href="styles/global.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script src="js/manutencao.js" defer></script>
    <script src="js/script.js" defer></script>
    <title>Solicitações</title>
  </head>
  <body>
    <header>
      <div class="header-logo">
        <a href="home.html"
          ><img src="images/logo-transparente.png" alt=""
        /></a>
      </div>
      <nav>
        <ul class="menu-list">
          <li class="menu-item">
            <a href="solicitacoes.html">Solicitações</a>
          </li>
          <li class="menu-item">
            <a href="monitoramento.html">Monitoramento</a>
            <a id="manutencao-button" href="manutencao.html">Manutenção</a>
          </li>
        </ul>
      </nav>
      <div class="user" id="userProfile">
        <img src="images/user-solid.svg" alt="" />
        <div class="nomeUsuario" id="nomeUsuariologin">Admin</div>
        <div class="logout-popup" id="logoutPopup">
          <button onclick="logout()">Logout</button>
        </div>
      </div>
    </header>

    <h1 class="main-title">Solicitações</h1>
    <button id="button-export">Exportar</button>
    <br />
    <br />
    <main>
      <div class="filtros-solicitacoes">
        <button
          id="btn-pendentes"
          class="filtro-status active"
          onclick="buscarSolicitacoesEmAvaliacao()"
        >
          Pendentes
        </button>
        <button
          id="btn-andamento"
          class="filtro-status"
          onclick="buscarSolicitacoesEmAndamento()"
        >
          Em Andamento
        </button>
        <button
          id="btn-concluido"
          class="filtro-status"
          onclick="buscarSolicitacoesConcluido()"
        >
          Concluído
        </button>
      </div>

      <section class="box-solicitacoes">
        <div class="titulos">
          <span>ID</span>
          <span>Tipo</span>
          <span>DEPARTAMENTO</span>
          <span>DATA</span>
          <span>FUNCIONÁRIO</span>
          <span>STATUS</span>
          <span>AÇÃO</span>
        </div>
        <div class="listaSolicitacoes" id="listaSolicitacoes"></div>
      </section>
    </main>

    <div id="popupDetalhesSolicitacao" class="popup-detalhes-overlay">
      <div class="popup-detalhes-content">
        <h2>Detalhes da Solicitação</h2>
        <p><strong>Nome:</strong> <span id="detalhesNome"></span></p>
        <p><strong>Tipo:</strong> <span id="detalhesTipo"></span></p>
        <p><strong>Data:</strong> <span id="detalhesData"></span></p>
        <p>
          <strong>Departamento: </strong><span id="detalhesDepartamento"></span>
        </p>
        <p><strong>Urgencia: </strong><span id="detalhesUrgencia"></span></p>
        <p><strong>Descrição:</strong> <span id="detalhesDescricao"></span></p>
        <p>
          <strong>Status:</strong> <span id="detalhesStatusContainer"></span>
        </p>
        <p>
          <strong>Profissional:</strong> <span id="detalhesProfissional"></span>
        </p>
        <p>
          <label for="chkProfissional"
            ><strong>Marcar como Em Andamento:</strong></label
          >
          <input
            id="chkProfissional"
            onchange="handleStatusChange()"
            type="checkbox"
          />
        </p>
        <p id="concluidoCheckboxContainer" style="display: none">
          <label for="chkConcluido"
            ><strong>Marcar como Concluído:</strong></label
          >
          <input
            id="chkConcluido"
            onchange="marcarComoConcluido()"
            type="checkbox"
          />
        </p>

        <button
          type="button"
          class="fechar-detalhes-button"
          onclick="fecharPopupDetalhes()"
        >
          Fechar
        </button>
      </div>
    </div>
  </body>
   <footer>
        <p>&copy; 2025 FixNow. Todos os direitos reservados.</p>
    </footer>
</html>
